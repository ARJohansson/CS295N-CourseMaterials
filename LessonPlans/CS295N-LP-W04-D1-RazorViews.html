<!DOCTYPE html><html>  <head>    <meta http-equiv="content-type" content="text/html; charset=UTF-8">    <title>Razor Views</title>    <style type="text/css">body {  font-family: "Arial", "Helvetica", "sans-serif";}#week04 {  background-color: #f8ff2e;}code {  display:block;  font-size: larger;  background-color: lightgoldenrodyellow;  max-height:400px;  width:95%;  overflow:scroll;}.exercise {  background-color: #c6ffe2;}</style> </head>  <body>    <header> <b>CS295N Web Development 1: ASP.NET</b>      <div>Brian Bird</div>    </header>    <section>      <article> <br>        <b>Where we are </b>        <table style="width: 807px; height: 127px;" border="1">          <tbody>            <tr>              <td id="week01">1. Intro to MVC</td>              <td id="week06">6. Unit Testing</td>            </tr>            <tr>              <td id="week02">2. More on MVC / Satelessness of HTTP</td>              <td id="week07">7. Model Design / Entity Framework (EF)</td>            </tr>            <tr>              <td id="week03">3. C# Review / Advanced C# for MVC</td>              <td id="week08">8. More on EF / LINQ</td>            </tr>            <tr>              <td id="week04">4. Razor Views</td>              <td id="week09">9. Model Binding / Validation</td>            </tr>            <tr>              <td id="week05">5. Web Dev Tools</td>              <td id="week10">10. Configuration / URL routing</td>            </tr>          </tbody>        </table>        <b><br>          <br>          Introduction </b><br>        We've already been using Razor views, so you are already familiar with        the basics. Now we will look deeper and how views work and how to use        additional features of views.<br>        <ul>        </ul>      </article>      <article> <b>Contents</b>        <ul>          <b>            <li><a href="#topic1">Razor Review</a></li>            <li><a href="#topic2">Layouts</a></li>            <li><a href="#topic3">Alternate means of passing data</a></li>            <li style="margin-left: 40px;"><a href="#topic3">ViewData</a></li>            <li style="margin-left: 40px;"><a href="#topic4">ViewBag<br>              </a></li>          </b><b>            <li><a href="#topic10">Reference</a></li>          </b>        </ul>      </article>    </section>    <section>      <article id="topic1"> <u><b> </b></u><b>Razor Review</b><u><b> </b></u><br>        <ul>          <li>Razor files are named with the .cshtml extension </li>          <li>Razor syntax is essentially HTML with C# mixed in.            <ul>              <li>Use @ to switch from HTML to C#                <ul>                  <li>Example:<br>                    <code>&nbsp;&lt;h2&gt; @book.Title &lt;/h2&gt;</code></li>                </ul>                <ul>                  <li>Note that what follows the @ is a Razor expression that <u>will
                      be rendered</u> along with the surrounding HTML.</li>                  <li>If a Razor expression contains spaces, it should be                    enclosed in parenthesis:<br>                    <code>&lt;p&gt;Yesterday: @(DateTime.Now -                      TimeSpan.FromDays(1))&lt;/p&gt;</code></li>                </ul>                <ul>                  <li>Razor expressions containing generics also need to be                    enclosed in parenthesis:<br>                    <code>&lt;p&gt;@(GenericMethod&lt;int&gt;())&lt;/p&gt;</code></li>                </ul>              </li>              <li>Use @{ } to mark a block of C#                <ul>                  <li>Example:<br>                    <code>@{<br>                      &nbsp;&nbsp; string greeting = "Hello ";<br>                      &nbsp;&nbsp; greeting += Model.Name;<br>                      }</code></li>                </ul>                <ul>                  <li>Note that the code inside a <a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/razor?view=aspnetcore-2.1#razor-code-blocks"                      target="_blank">Razor
                      code block</a> is <u>not rendered</u> along with the                    surrounding HTML.</li>                </ul>              </li>              <li>Use @: to switch from C# to HTML                <ul>                  <li>Example:<br>                    <code>@switch (@Model.Name) {<br>                      &nbsp;&nbsp;&nbsp; case "Admin":<br>                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @:You have all the                      power!<br>                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;</code></li>                </ul>              </li>            </ul>          </li>          <li>A <i>model </i>can be declared to create a<i> strongly typed              view</i>            <ul>              <li>In your view, declare the model like this:<br>                <code>@model List&lt;Book&gt;</code></li>            </ul>            <ul>            </ul>          </li>        </ul>      </article>      <article id="topic2"> <b>Layouts </b> <br>        You can create a special type of view, called a <i>layout</i>, that can        be included in other views and allows you to re-use Razor code. <br>        <ul>          <li>Naming and declaring layouts            <ul>              <li>There can be more than one layout.</li>              <li>&nbsp;Conventionally, the file names start with an underscore</li>              <li>The <i>Views/Shared</i>/ folder is one place where layouts                are stored, but each view folder can also contain layouts.</li>              <li>The default layout name is defined in _ViewStart.cshtml                <ul>                  <li>Example:<br>                    <code>@Layout = _layout.cshtml</code></li>                </ul>              </li>            </ul>            <ul>            </ul>            <ul>            </ul>          </li>          <li>Defining a layout            <ul>              <li>Layout are written just like a regular Razor view.</li>              <li>The layout will actually contain the view in which it is                declared. The view that uses the layout will be rendered in the                layout by the <i>RenderBody() </i>method.</li>              <li>Example:<br>                <code>&lt;!DOCTYPE html&gt;<br>                  &lt;html&gt;<br>                  &lt;head&gt;<br>                  &nbsp;&nbsp;&nbsp; &lt;title&gt;Layout Example&lt;/title&gt;<br>                  &lt;/head&gt;<br>                  &lt;body&gt;<br>                  &nbsp; &lt;h1&gt;This heading is in the layout&lt;/h1&gt;<br>                  &nbsp; Any view that uses this layout will be rendered here:<br>                  &nbsp;&nbsp;&nbsp; @RenderBody()<br>                  &nbsp; &lt;/body&gt;<br>                  &lt;/html&gt;</code></li>            </ul>          </li>          <li>Default layouts and <i>_ViewStart.cshtml</i>            <ul>              <li>A default layout can be placed in <i>Views/Shared/ </i>or in                other view folders to create a default for that particular view                folder. </li>              <li>A view can use a different layout by assigning that layout to                the <i>Layout</i> property in that view.                <ul>                  <li>Example:<br>                    <code>@Layout = "_MyLayout";</code></li>                </ul>              </li>              <li>To use the default layout, _Layout, you do not need to declare                a layout in the view</li>              <li>If there is a default layout in the Views/Shared/ folder, but                you don't want to use it in a particular view, set the Layout                property in the view to null.                <ul>                  <li>Examaple:<code>@Layout = null;</code></li>                </ul>              </li>            </ul>          </li>        </ul>      </article>      <section id="topic3"> <b>Alternate Means of Passing Data</b><br>        ViewData provides an alternative way to send data from a controller to a        view and can also be used to send data from a view to a layout or        partial view.<b></b>        <article id="topic3">          <ul>            <li><b>ViewData</b></li>            <ul>              <li>A Dictionary object which is a property of the Controller                class and of views. </li>              <li>Data is stored as key-value pairs. The keys are strings.</li>              <li>It is weakly typed-- everything is stored in ViewData as an                object and any value other than a string value must be cast to                it's original type when it is retrieved.</li>              <li>Examples:</li>              <ul>                <li>&nbsp;Putting data in ViewData in a controller method:<br>                  <code>ViewData["newestBook"]= books[books.Count - 1].Title;</code></li>                <li>Retrieving data in a view:<br>                  <code> Newest Book: @ViewData["newestBook"]</code></li>              </ul>            </ul>          </ul>          <ul>            <ul style="margin-left: 40px;">            </ul>          </ul>        </article>        <article id="topic4">          <ul>            <li><b>ViewBag</b>              <ul>                <li>A wrapper around ViewData which simplifies retrieval of data                  by casting the value to the correct type for you automatically                </li>                <li>Examples:</li>                <ul>                  <li>&nbsp;Putting data in the ViewBag in a controller method:<br>                    <code>ViewBag.bookCount = books.Count;</code></li>                </ul>              </ul>              <ul>                <ul>                  <li>Retrieving data in a view:<br>                    <code> number of Books: @ViewBag.bookCount</code></li>                </ul>              </ul>            </li>          </ul>        </article>      </section>      <article id="topic10">        <p> <b>Reference </b></p>        <ul>          <li> <a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/razor?view=aspnetcore-2.1"              target="_blank">Microsoft:
              Razor Syntax Reference for ASP.NET Core</a><a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/"              target="_blank"><span                style="color: #0000ee;"></span></a></li>          <li><a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/layout?view=aspnetcore-2.1"              target="_blank"><span                style="color: #0000ee;">Microsoft:
                Layout in ASP.NET Core</span></a></li>          <li><span style=" color: #0000ee;"><a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/overview?view=aspnetcore-2.1#weakly-typed-data-viewdata-viewdata-attribute-and-viewbag"                target="_blank">Microsoft:
                Weakly typed data (ViewData, ViewDataAttribute, and ViewBag)</a></span></li>        </ul>      </article>    </section>    <hr>    <footer> <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img          alt="Creative Commons License"          style="border-width:0"          src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a><br>      <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">These        ASP.NET Core MVC Lecture Notes</span> by <a xmlns:cc="http://creativecommons.org/ns#"        href="https://birdsbits.blog"        property="cc:attributionName"        rel="cc:attributionURL">Brian
        Bird</a> are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative


        Commons Attribution 4.0 International License</a>. </footer>    <hr>  </body></html>